# Action d'exploitation

## 🔧 Actions d’exploitation dans Centreon

|Action|Description|
|---|---|
|**Acquittement**|Indique qu’une alerte est **prise en charge** ; empêche les notifications répétées|
|**Commentaires**|Permettent de tracer manuellement un événement ou une prise en compte|
|**Temps d’arrêt (Downtime)**|Centreon **suspend la supervision et les alertes** pendant une période définie|
|**Contrôle immédiat**|Lancement manuel d’un check pour vérifier un service ou un hôte|
|**Contrôle immédiat forcé**|Ignore la période définie → exécution immédiate assurée|

📝 Deux types de downtime :
- **Fixe** : avec début et fin précises
- **Glissant** : démarre lorsqu’un service passe à un état critique, pour une durée donnée

## 📬 Mécanisme de notification

### 🔁 Quand une notification est-elle envoyée ?

- Lorsqu’un **état HARD** est atteint
- Les **SOFT** n’enclenchent pas de notification

### 🔧 Paramètres à vérifier :

|Élément|Vérification à faire|
|---|---|
|Statut HARD atteint ?|✅ Nécessaire pour déclencher la notification|
|Notifications activées ?|Sur l’objet (hôte/service), son modèle et le contact|
|Période de notification|Est-ce que le contact est disponible à ce moment-là ?|
|Downtime en cours ?|Si oui, pas de notification|
|Statut à notifier ?|Exemple : OK, WARNING, CRITICAL, UNREACHABLE… selon config|
### 🔗 Méthode d’envoi

- Par défaut : **email**
- Mais Centreon permet aussi : **SMS, appel vocal, syslog, webhook**, etc.
- Envoie via des **commandes de notification**, comme les checks :
    - Exemple : `host-notify-by-email`, `service-notify-by-email`

## 👥 Contacts, groupes, escalades

- Les **contacts** ou **groupes de contacts** sont affectés aux hôtes/services
- Possibilité de définir :
    - Des plages horaires de réception (Notification Period)
    - Les types de statuts notifiés (OK, WARNING, CRITICAL…)
        
- Les **escalades** permettent :
    - De notifier d’autres personnes si la situation n’est pas acquittée dans un délai donné

## 🔗 Relations parents/enfants (Network Outage)

Centreon permet de **lier les hôtes entre eux** pour **éviter les fausses alertes en cascade** :
- Si un hôte parent est **DOWN**, les enfants deviennent **UNREACHABLE**
- Seul le parent est notifié
- Permet d’optimiser les alertes dans les architectures hiérarchisées

💡 À utiliser pour les **SPOF** (Single Point of Failure) et les chemins critiques réseau.


## 🔄 Workflow complet de la notification

```markdown
1. Passage du service en état SOFT → aucune notif
2. Si problème persiste → statut devient HARD
3. Centreon vérifie :
   - Notifications activées ?
   - Pas en downtime ?
   - Période de notification valide ?
   - Statut notifiable ?
4. Si tout est OK :
   - Récupère la liste des contacts
   - Vérifie si chaque contact peut recevoir la notif
   - Envoie la commande de notification (email, SMS, etc.)
```
