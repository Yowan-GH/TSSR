# Action d'exploitation

## ğŸ”§ Actions dâ€™exploitation dans Centreon

|Action|Description|
|---|---|
|**Acquittement**|Indique quâ€™une alerte est **prise en charge** ; empÃªche les notifications rÃ©pÃ©tÃ©es|
|**Commentaires**|Permettent de tracer manuellement un Ã©vÃ©nement ou une prise en compte|
|**Temps dâ€™arrÃªt (Downtime)**|Centreon **suspend la supervision et les alertes** pendant une pÃ©riode dÃ©finie|
|**ContrÃ´le immÃ©diat**|Lancement manuel dâ€™un check pour vÃ©rifier un service ou un hÃ´te|
|**ContrÃ´le immÃ©diat forcÃ©**|Ignore la pÃ©riode dÃ©finie â†’ exÃ©cution immÃ©diate assurÃ©e|

ğŸ“ Deux types de downtime :
- **Fixe** : avec dÃ©but et fin prÃ©cises
- **Glissant** : dÃ©marre lorsquâ€™un service passe Ã  un Ã©tat critique, pour une durÃ©e donnÃ©e

## ğŸ“¬ MÃ©canisme de notification

### ğŸ” Quand une notification est-elle envoyÃ©e ?

- Lorsquâ€™un **Ã©tat HARD** est atteint
- Les **SOFT** nâ€™enclenchent pas de notification

### ğŸ”§ ParamÃ¨tres Ã  vÃ©rifier :

|Ã‰lÃ©ment|VÃ©rification Ã  faire|
|---|---|
|Statut HARD atteint ?|âœ… NÃ©cessaire pour dÃ©clencher la notification|
|Notifications activÃ©es ?|Sur lâ€™objet (hÃ´te/service), son modÃ¨le et le contact|
|PÃ©riode de notification|Est-ce que le contact est disponible Ã  ce moment-lÃ  ?|
|Downtime en cours ?|Si oui, pas de notification|
|Statut Ã  notifier ?|Exemple : OK, WARNING, CRITICAL, UNREACHABLEâ€¦ selon config|
### ğŸ”— MÃ©thode dâ€™envoi

- Par dÃ©faut : **email**
- Mais Centreon permet aussi : **SMS, appel vocal, syslog, webhook**, etc.
- Envoie via des **commandes de notification**, comme les checks :
    - Exemple : `host-notify-by-email`, `service-notify-by-email`

## ğŸ‘¥ Contacts, groupes, escalades

- Les **contacts** ou **groupes de contacts** sont affectÃ©s aux hÃ´tes/services
- PossibilitÃ© de dÃ©finir :
    - Des plages horaires de rÃ©ception (Notification Period)
    - Les types de statuts notifiÃ©s (OK, WARNING, CRITICALâ€¦)
        
- Les **escalades** permettent :
    - De notifier dâ€™autres personnes si la situation nâ€™est pas acquittÃ©e dans un dÃ©lai donnÃ©

## ğŸ”— Relations parents/enfants (Network Outage)

Centreon permet de **lier les hÃ´tes entre eux** pour **Ã©viter les fausses alertes en cascade** :
- Si un hÃ´te parent est **DOWN**, les enfants deviennent **UNREACHABLE**
- Seul le parent est notifiÃ©
- Permet dâ€™optimiser les alertes dans les architectures hiÃ©rarchisÃ©es

ğŸ’¡ Ã€ utiliser pour les **SPOF** (Single Point of Failure) et les chemins critiques rÃ©seau.


## ğŸ”„ Workflow complet de la notification

```markdown
1. Passage du service en Ã©tat SOFT â†’ aucune notif
2. Si problÃ¨me persiste â†’ statut devient HARD
3. Centreon vÃ©rifie :
   - Notifications activÃ©es ?
   - Pas en downtime ?
   - PÃ©riode de notification valide ?
   - Statut notifiable ?
4. Si tout est OK :
   - RÃ©cupÃ¨re la liste des contacts
   - VÃ©rifie si chaque contact peut recevoir la notif
   - Envoie la commande de notification (email, SMS, etc.)
```
