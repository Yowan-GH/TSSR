
**Centreon** est un outil de **supervision rÃ©seau et systÃ¨me**.  
Il permet de surveiller des hÃ´tes (serveurs, Ã©quipements rÃ©seau...) et leurs services (CPU, HTTP, RAM...).
## ğŸ§  A installer

### âœ… Ã€ installer sur le **serveur Centreon** (poste de supervision)

|Composant|RÃ´le|Obligatoire|
|---|---|---|
|Centreon Web|Interface graphique Web|âœ…|
|Centreon Engine|Moteur de supervision|âœ…|
|Centreon Broker|Transfert des donnÃ©es vers Web & DB|âœ…|
|Base de donnÃ©es (MariaDB)|Stockage de la config, des statuts et historiques|âœ…|
|Centreon Plugins|Sondes modernes (Perl)|âœ…|
|Nagios Plugins|Sondes classiques (check_ping, etc.)|âœ…|
|NRPE client (check_nrpe)|Pour interroger des hÃ´tes Linux via NRPE|Selon besoin|

### ğŸ“ Ã€ installer / configurer sur les **clients supervisÃ©s**

### ğŸ§ **Linux** :

|MÃ©thode|Ã€ installer|Notes|
|---|---|---|
|**NRPE**|`nrpe` + **Nagios Plugins**|Permet d'exÃ©cuter des checks locaux depuis Centreon|
|**SNMP**|`snmpd` (Agent SNMP)|NÃ©cessite configuration (community, versionâ€¦)|
### ğŸªŸ **Windows** :

|MÃ©thode|Ã€ installer|Notes|
|---|---|---|
|**NSClient++**|NSClient++|Un seul agent, compatible **NRPE**, **NRDP**, **WMI**, **local checks**|

âœ… **Donc oui** :
- **Linux** â†’ soit _NRPE + plugins_, soit _SNMP_
- **Windows** â†’ un seul agent **NSClient++** suffit pour tout

## ğŸ” Fonctionnement gÃ©nÃ©ral
- Centreon fonctionne Ã  lâ€™aide de **sondes** (aussi appelÃ©es **checks**).
- Un **check** est une **commande** qui appelle un **script ou plugin** pour effectuer une vÃ©rification.
    
- Les scripts exÃ©cutÃ©s peuvent Ãªtre :
    - des **Nagios plugins**
    - des **Centreon plugins**
    - ou des appels via **SNMP**, **NRPE**, etc.

## ğŸ“¦ Organisation recommandÃ©e

Pour assurer une configuration **rÃ©utilisable, propre et scalable**, on utilise des **modÃ¨les** :
#### ğŸ¯ ModÃ¨les de service
- Un **modÃ¨le de service fonctionnel** contient :
    - la **commande de vÃ©rification**
    - des **macros** (seuils, chemins, versions...)
- Il peut **hÃ©riter** dâ€™un **modÃ¨le de configuration de service**, qui centralise les paramÃ¨tres gÃ©nÃ©riques (intervalle, pÃ©riode, nombre de tentatives...)

#### ğŸ§± ModÃ¨les dâ€™hÃ´te
- Un **modÃ¨le dâ€™hÃ´te** contient les informations communes Ã  une famille de machines (Linux, Windows, imprimantesâ€¦)
- Il regroupe et **dÃ©ploie automatiquement plusieurs modÃ¨les de services**

## EnchaÃ®nement logique du fonctionnement de Centreon (avec macros)

```markdown
Centreon Engine
    â†“
ModÃ¨le dâ€™HÃ´te (HTF / HTC)
    â†³ DÃ©finit des macros dâ€™hÃ´te : $_HOSTSNMPVERSION$, $_HOSTCOMMUNITY$, ...
    â†“
ModÃ¨le de Service (STF / STC)
    â†³ DÃ©finit des macros de service : $_SERVICEWARNING$, $_SERVICECRITICAL$, ...
    â†“
Commande (Check)
    â†³ Contient la syntaxe dâ€™appel du script avec macros : 
       --hostname=$HOSTADDRESS$ 
       --warning=$_SERVICEWARNING$ 
       --community=$_HOSTCOMMUNITY$
    â†“
Plugin / Script (Sonde rÃ©elle)
    â†³ ExÃ©cute la vÃ©rification et retourne un statut (OK, WARNING, etc.)

```


